<!DOCTYPE html>
<html lang='en' xml:lang='en' xmlns='http://www.w3.org/1999/xhtml'>
  <head>
    <meta content='text/html;charset=UTF-8' http-equiv='content-type'>
    <title>Right-angle phylograms and dendrograms with d3</title>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script src="http://d3js.org/d3.v3.min.js" type="text/javascript"></script>
    <script src="js/newick.js" type="text/javascript"></script>
    <script src="js/d3.phylogram.js" type="text/javascript"></script>
    <script src="js/NMLd3Phylogeny.js" type="text/javascript"></script>
    <script src="js/papaparse.min.js" type="text/javascript"></script>
	<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.3/themes/smoothness/jquery-ui.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.3/jquery-ui.min.js"></script> 
    <script>
      $(document).ready(function(){
    	$("#metaInput").change(loadMeta);
    	$("#newickFile").change(loadNewick);
    	$("#provinceLegend").draggable();
    	$("#collectionDate").draggable({ axis: "x" });
    	$("#collectionDate").css('background-color', 'blue');
    	$("#provinceLegend").hide();
      });
    </script>
    <script>

    </script>
    <style type="text/css" media="screen">
      body { font-family: "Helvetica Neue", Helvetica, sans-serif; }
      td { vertical-align: top; }
      #collectionDateLabel{
      	position: absolute;
      	left: 50%;
      }
      #provinceLegend{
      	position: absolute;
      	left: 45%;
      	top: 20%;
      	width: '100px';
      	border-style: solid;
    	border-width: 1px;
    	z-index: 5;
      }
      #collectionDate{
		position: absolute;
		top: 0;
      }
      #collectionDateLabelBar{
		backgroundColor: #66FFFF;
		opacity: 0.5;
		width: 60px;
		height: 12px;
		z-index: 4;
      }
    </style>
  </head>
  <body>
  <label>Input newick file:</label>
  <input id="newickFile" type="file" name="trees"/></br>
  <label>Input meta data (.csv):</label>
  <input id="metaInput" type="file" name="files"/>
  <!-- <button id="addLines" onclick='removeContrast()'>Remove contrast lines</button> -->
    <table>
      <tr>
        <td>
          <div id='phylogram'></div>
          <div id='collectionDate'></div>
        </td>
      </tr>
    </table>
    <table>
    <div id="provinceLegend" style={"left:80%"}>
    	<label>Source<button onclick='sourceExplanation()'>?</button></label>
    	<div style="color:green">BC<svg height="15" width="15"><circle cx="8" cy="4" r="4" stroke="black" stroke-width="0px" fill="green"/></svg></div>
    	<div style="color:orange">AB<svg height="15" width="15"><circle cx="8" cy="4" r="4" stroke="black" stroke-width="0px" fill="orange"/></svg></div>
    	<div style="color:black">SK<svg height="15" width="15"><circle cx="8" cy="4" r="4" stroke="black" stroke-width="0px" fill="black"/></svg></div>
    	<div style="color:#336666">MB<svg height="15" width="15"><circle cx="8" cy="4" r="4" stroke="black" stroke-width="0px" fill="#336666"/></svg></div>
    	<div style="color:red">ON<svg height="15" width="15"><circle cx="8" cy="4" r="4" stroke="black" stroke-width="0px" fill="red"/></svg></div>
    	<div style="color:blue">QC<svg height="15" width="15"><circle cx="8" cy="4" r="4" stroke="black" stroke-width="0px" fill="blue"/></svg></div>
    	<div style="color:purple">NS<svg height="15" width="15"><circle cx="8" cy="4" r="4" stroke="black" stroke-width="0px" fill="purple"/></svg></div>
    	<div style="color:darkolivegreen">NB<svg height="15" width="15"><circle cx="8" cy="4" r="4" stroke="black" stroke-width="0px" fill="darkolivegreen"/></svg></div>
    	<div style="color:pink">NF<svg height="15" width="15"><circle cx="8" cy="4" r="4" stroke="black" stroke-width="0px" fill="pink"/></svg></div>
    	<div style="color:aqua">NWT<svg height="15" width="15"><circle cx="8" cy="4" r="4" stroke="black" stroke-width="0px" fill="aqua"/></svg></div>
    	<div style="color:goldenrod">YU<svg height="15" width="15"><circle cx="8" cy="4" r="4" stroke="black" stroke-width="0px" fill="goldenrod"/></svg></div>
    	<div style="color:#FF3399">NU<svg height="15" width="15"><circle cx="8" cy="4" r="4" stroke="black" stroke-width="0px" fill="#FF3399"/></svg></div>
    	<div style="color:brown">PEI<svg height="15" width="15"><circle cx="8" cy="4" r="4" stroke="black" stroke-width="0px" fill="brown"/></svg></div>
    	<div style="color:greenYellow">N/A<svg height="15" width="15"><circle cx="8" cy="4" r="4" stroke="black" stroke-width="0px" fill="greenYellow"/></svg></div>
    	<label>Collection Date<button onclick="collectionDateExplanation()">?</button></label>
    	<div id="collectionDateLabelBar"></div>
    	<label>Zoom</label>
    	<div>Ctrl+ to zoom in.</div>
    	<div>Ctrl- to zoom out.</div>
    </div>
    </table>
  </body>
</html>
